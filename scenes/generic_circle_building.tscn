[gd_scene load_steps=15 format=3 uid="uid://c8vxpavn3ffq0"]

[ext_resource type="Script" uid="uid://ce4ppyi0o0lys" path="res://scripts/connectingHub.gd" id="1_hjjua"]
[ext_resource type="Texture2D" uid="uid://dxaxo0gldp6tb" path="res://assets/Circle Building/BuildingRoof.png" id="2_gl5p8"]
[ext_resource type="Texture2D" uid="uid://cu1wcy3kbe7oc" path="res://assets/Circle Building/BuildingFrontDoor.png" id="3_v6eqw"]
[ext_resource type="Texture2D" uid="uid://ckns5f251qlo3" path="res://assets/Circle Building/BuildingFloor.png" id="4_61qfp"]
[ext_resource type="Texture2D" uid="uid://b2o4dkbqhhuf0" path="res://assets/Circle Building/BuildingLight.png" id="5_umc8i"]
[ext_resource type="Texture2D" uid="uid://b4whrnyeukevj" path="res://assets/Circle Building/BuildingBackWall.png" id="8_rxw0a"]

[sub_resource type="Animation" id="Animation_mt53i"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Roof:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0.804743, 0.804743, 0.804743, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Roof:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Roof/FrontWall:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_ejodb"]
resource_name = "hide"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Roof:modulate")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0.804743, 0.804743, 0.804743, 1), Color(0.803922, 0.803922, 0.803922, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Roof/FrontWall:modulate")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_48xji"]
resource_name = "show"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Roof:modulate")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0.803922, 0.803922, 0.803922, 0), Color(0.803922, 0.803922, 0.803922, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Roof/FrontWall:modulate")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2keeq"]
_data = {
&"RESET": SubResource("Animation_mt53i"),
&"hide": SubResource("Animation_ejodb"),
&"show": SubResource("Animation_48xji")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_mt53i"]
radius = 1446.5892

[sub_resource type="Animation" id="Animation_foqtn"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_t0r7i"]
resource_name = "danger"
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:color")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 0, 0, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_c6oqt"]
_data = {
&"RESET": SubResource("Animation_foqtn"),
&"danger": SubResource("Animation_t0r7i")
}

[node name="Circle Hub" type="Node2D"]
scale = Vector2(0.55, 0.55)
script = ExtResource("1_hjjua")

[node name="Roof" type="Sprite2D" parent="."]
modulate = Color(0.804743, 0.804743, 0.804743, 1)
light_mask = 0
z_index = 3
texture = ExtResource("2_gl5p8")

[node name="State" type="AnimationPlayer" parent="Roof"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_2keeq")
}

[node name="FrontWall" type="Sprite2D" parent="Roof"]
light_mask = 2
z_index = -1
texture = ExtResource("3_v6eqw")

[node name="Floor" type="Sprite2D" parent="."]
modulate = Color(0.310617, 0.310617, 0.310617, 1)
z_index = -1
texture = ExtResource("4_61qfp")

[node name="Area2D" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
z_index = 1
position = Vector2(8.053691, 206.71143)
scale = Vector2(1, 0.85)
shape = SubResource("CircleShape2D_mt53i")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
scale = Vector2(1, 0.73)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
z_index = 1
position = Vector2(-78.181816, 774.5952)
polygon = PackedVector2Array(-316.36362, 1120.7969, -552.7273, 1008.71704, -790.90906, 874.22144, -940, 744.7073, -1085.4545, 570.36084, -1227.2727, 298.8789, -1276.3636, 244.08447, -1321.8181, 206.72461, -1361.8181, 194.27148, -1345.4545, 241.59375, -1265.4545, 373.59888, -1245.4545, 415.93994, -1138.1818, 600.2488, -1012.72723, 779.5764, -820, 941.46924, -574.5455, 1088.4182, -312.72726, 1188.0447)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(1126.1744, 327.2961, 1157.0469, 338.32858, 1146.3087, 380.61966, 1097.9866, 496.46042, 970.4697, 707.9158, 859.06036, 842.144, 677.8523, 996.5983, 453.69125, 1108.7616, 276.51004, 1151.0526, 276.51004, 1128.9878, 426.8456, 1088.5354, 524.8322, 1037.0507, 712.75165, 923.0486, 915.4362, 717.1095, 1075.1677, 463.36304)
disabled = true

[node name="PointLight2D2" type="PointLight2D" parent="."]
texture = ExtResource("5_umc8i")
height = 1024.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="PointLight2D2"]
libraries = {
&"": SubResource("AnimationLibrary_c6oqt")
}

[node name="BackWall" type="Sprite2D" parent="."]
texture = ExtResource("8_rxw0a")

[connection signal="body_entered" from="Area2D" to="." method="playerEnter"]
[connection signal="body_exited" from="Area2D" to="." method="playerExit"]
